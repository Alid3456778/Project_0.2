<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tour Packages Admin</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        h1 { text-align: center; }
        form { display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px; }
        input, button { padding: 5px; }
        ul { list-style-type: none; padding: 0; }
        li { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .package-details { flex-grow: 1; }
    </style>
</head>
<body>
    <h1>Tour Packages Admin Panel</h1>
    
    <form id="addPackageForm" action="/admin" method="post">
        <!-- <input type="text" id="id" placeholder="ID" name="id" required> -->
        <input type="text" id="name" placeholder="Package Name" name="name" required>
        <input type="text" id="description" placeholder="Description" name="descp" required>
        <input type="number" id="price" placeholder="Price" required name="price">
        <input type="text" id="image" placeholder="Image URL" name="pic">
        <input type="text" id="best_time_to_vist" placeholder="best Time to visit" name="best_time_to_vist">
        <input type="text" id="top_attraction" placeholder="top_attraction" name="top_attraction">
        <input type="text" id="activities" placeholder="activities" name="activities">
        <input type="text" id="local_dishes" placeholder="local_dishes" name="local_dishes">
        <input type="text" id="language" placeholder="language" name="language">
        <input type="text" id="currency" placeholder="currency" name="currency">
        <button type="submit">Add Package</button>
    </form>
    <h1>Delete Tour Package</h1>
    <form id="deletePackageForm" action="/delete" method="post">
        <input type="text" id="delete_name" placeholder="Package Name to Delete" name="packageName" required>
        <button type="submit">Delete Package</button>
    </form>
    <h2>Packages List</h2>
    <ul id="packagesList"></ul>

    <!-- <script>
        const addPackageForm = document.getElementById('addPackageForm');
        const packagesList = document.getElementById('packagesList');

        // Function to fetch and display packages
        function fetchPackages() {
            fetch('/api/packages')
                .then(response => response.json())
                .then(data => {
                    packagesList.innerHTML = '';
                    data.forEach(package => {
                        const li = document.createElement('li');
                        li.innerHTML = `
                            <div class="package-details">
                                <strong>${package.name}</strong> - $${package.price}<br>
                                <small>${package.description}</small>
                            </div>
                            <button onclick="deletePackage(${package.id})">Delete</button>
                        `;
                        packagesList.appendChild(li);
                    });
                });
        }

        // Function to add a new package
        addPackageForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const newPackage = {
                id: parseInt(document.getElementById('id').value),
                name: document.getElementById('name').value,
                description: document.getElementById('description').value,
                price: parseFloat(document.getElementById('price').value)
            };

            fetch('/api/packages', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(newPackage),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                fetchPackages();
                addPackageForm.reset();
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        });

        // Function to delete a package
        function deletePackage(id) {
            fetch(`/api/packages/${id}`, {
                method: 'DELETE',
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                fetchPackages();
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }

        // Initial fetch of packages
        fetchPackages();
    </script> -->
<script>
    
</script>

</body>
</html>